# Анализ пользовательских данных и заказов e-commerce платформы - SQL Код

## Описание

Проект включает анализ (SQL Код) данных и заказов на e-commerce платформе с целью выявления ключевых метрик, таких как размер заказов, активность пользователей, популярные товары, и время доставки. 

В рамках проекта выполнены задачи по группировке данных, расчету средних значений, фильтрации и анализу заказов, что позволило получить ценные инсайты для оптимизации работы платформы и улучшения пользовательского опыта.

## Инструменты
`PostgreSQL`  `subqueries`

## Структура таблиц
<img src="https://storage.yandexcloud.net/klms-public/production/learning-content/152/1762/17923/51794/244290/2023_01_24_214337_negate.jpg" alt="Alt text" width="520">

## Решенные задачи:

1. **Группировала заказы по месяцам:** Подсчитала количество сделанных и отмененных заказов.

2. **Анализ по полу и возрастным группам:** Выполнила группировку пользователей по возрасту и полу, подсчитала количество пользователей в каждой подгруппе.

3. **Оценка размеров заказов:** Сгруппировала данные по количеству товаров в заказах, учла заказы, оформленные по будням, и включила только те группы, где количество заказов превышает 2000.

4. **Расчет среднего размера заказов:** Рассчитала средний размер заказа для выходных и будних дней, сгруппировав их как «weekend» и «weekdays».

5. **Анализ активности пользователей:** Определила количество заказов и долю отмен для каждого пользователя, отфильтровала пользователей с более чем тремя заказами и высоким показателем отмен.

6. **Анализ заказов по дням недели:** Рассчитала количество оформленных, отмененных и доставленных заказов, а также долю успешных заказов по дням недели.

7. **Расчет заказов пользователей:** Определила количество заказов для каждого пользователя и добавила столбец со средним числом заказов.

8. **Отбор курьеров по числу доставок:** Вывела информацию о курьерах, доставивших 30 и более заказов в сентябре 2022 года.

9. **Средний размер отмененных заказов:** Рассчитала средний размер отмененных заказов для пользователей мужского пола.

10. **Определение возраста пользователей:** Посчитала возраст пользователей в полных годах, и указала средний возраст для тех, у кого не была указана дата рождения.

11. **Анализ времени доставки заказов:** Рассчитала время доставки для заказов с более чем 5 товарами, включила время принятия и доставки заказа.

12. **Первичные заказы пользователей:** Подсчитала количество первых заказов пользователей на каждую дату, учитывая только неотмененные заказы.

13. **Популярные товары:** Используя функцию `unnest`, определила 10 самых популярных товаров в заказах, учитывая количество единиц товара.

14. **Заказы с дорогими товарами:** Вывела id и содержимое заказов, которые включают хотя бы один из пяти самых дорогих товаров в сервисе.
